<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>购物车</title>
    <link rel="stylesheet" href="css/shoppingcar.css">
</head>
<body>
    <!-- header	 -->
    <div id="header" class="header">
		<div class="headMain">
			<div class="logo">
				<a href="#"><img src="img/logo.png"></a>
			</div>
			<div class="menu">
				<a href="index.html" class="firstA">首页</a>
				<a href="goods.html">产品</a>
				<a href="shop.html">店铺</a>
				<a href="#">服务</a>
				<a href="#">品牌</a>
				<a href="#">食谱</a>
			</div>
			<div class="search">
				<input type="text" value placeholder="搜索产品/食谱">
				<a href="#"><img src="img/icon_search.png" alt=" "></a>
			</div>
			<div id="userlogin">
				欢迎您：<span></span>
				<input id="btnLogout" type="button" value="注销" />
				<a href="shoppingcar.html"><img id="imgs" src="img/icon.JPG" alt="购物车"></a>
			</div>

			<div id="userLogout" >
				<a href="login.html">登录/注册</a>
			</div>
		</div>
	</div>
    <!-- inner -->
    <div id="inner">
        <p class="pname">魔法焖烧罐系列&nbsp;TCLD-720S</p>
            <!-- 动态产生商品 -->
        <ul>
            <li class="goodsList">
                <div class="radioBox">
                    <input type="checkbox" name="" id="">
                </div>
                <div class="goods">
                    <img class="goodsImg" src="img/pr22.jpg" alt="">
                </div>
                <div class="infos">
                    <p class="goodsId">魔法焖烧罐系列 TCLD-720S</p>
                    <div class="box">
                        <p>￥<span class="price">10</span></p> 
                        <span>
                            <input class="btnReduce" type="button" value=" - ">
                            <input class="count" type="text" value="0" style="width:15px;">
                            <input class="btnAdd" type="button" value=" + ">
                        </span> 
                    </div>
                </div>
            </li>
            <li class="goodsList">
                <div class="radioBox">
                    <input type="checkbox" name="" id="">
                </div>
                <div class="goods">
                    <img class="goodsImg" src="img/pr23.jpg" alt="">
                </div>
                <div class="infos">
                    <p class="goodsId">One Touch系列 TCMC-550S</p>
                    <div class="box">
                        <p>￥<span class="price">10</span></p> 
                        <span>
                            <input class="btnReduce" type="button" value=" - ">
                            <input class="count" type="text" value="0" style="width:15px;">
                            <input class="btnAdd" type="button" value=" + ">
                        </span> 
                    </div>
                </div>
            </li>
            <li class="goodsList">
                <div class="radioBox">
                    <input type="checkbox" name="" id="">
                </div>
                <div class="goods">
                    <img class="goodsImg" src="img/pr24.jpg" alt="">
                </div>
                <div class="infos">
                    <p class="goodsId">小哑铃 TCSD-700</p>
                    <div class="box">
                        <p>￥<span class="price">20</span></p> 
                        <span>
                            <input class="btnReduce" type="button" value=" - ">
                            <input class="count" type="text" value="0" style="width:15px;">
                            <input class="btnAdd" type="button" value=" + ">
                        </span> 
                    </div>
                </div>
            </li>
        </ul>
        
    </div class="goodsTotalBox">
        <input type="checkbox" name="" id="allCheckBox" style="margin-left: 550px;width: 17px;
		height: 17px;">
        合计：<span id="totalMoney"></span>
    </div>

<!-- footer -->
<div class="footer">
    <!-- fnav -->
    <div class="fnav">
        <div class="inner">
            <ul class="navs">
                <li class="title">
                    <a>产品分类</a>
                </li>
                <li>
                    <a href="#">办公通勤</a>
                </li>
                <li>
                    <a href="#">居家</a>
                </li>
                <li>
                    <a href="#">运动户外</a>
                </li>
                <li>
                    <a href="#">亲子</a>
                </li>
                <li>
                    <a href="#">智能厨房</a>
                </li>
            </ul>
            <ul class="navs">
                <li class="title">
                    <a>店铺查询</a>
                </li>
                <li>
                    <a href="#">百货专柜</a>
                </li>
                <li>
                    <a href="#">专卖店</a>
                </li>
                <li>
                    <a href="#">工厂店</a>
                </li>
                <li>
                    <a href="#">母婴店</a>
                </li>
                <li>
                    <a href="#">官方授权网上商城</a>
                </li>
            </ul>
            <ul class="navs">
                <li class="title">
                    <a>品牌故事</a>
                </li>
                <li>
                    <a href="#">魔法师</a>
                </li>
                <li>
                    <a href="#">艺术家</a>
                </li>
                <li>
                    <a href="#">冒险家</a>
                </li>
            </ul>
            <ul class="navs">
                <li class="title">
                    <a>资讯速递</a>
                </li>
                <li>
                    <a href="#">全部视频</a>
                </li>
                <li>
                    <a href="#">全部文章</a>
                </li>
            </ul>
            <div class="service">
                <p class="ttl">服务专线</p>
                <p class="phone">
                    欢迎拨打客服电话<br>
                    4008282888
                </p>
                <p>
                    <img src="img/service_05_20160914151852.jpg" alt="二维码">
                </p>
            </div>
        </div>
    </div>
		<!-- copyright -->
		<div class="copyright">
			<div class="inner">
				<div class="jzDiv">
					<div class="footH">
						<a href="#">法律声明</a>
						<a href="#">使用条款</a><br>
					</div>
					<a href="http://http://www.miibeian.gov.cn/" target="_blank">Copyright © 2016 Thermos. All Rights Reserved. 膳魔师（中国）家庭制品有限公司 版权所有  苏ICP备11080120号</a>
					<div class="icon">
						<a href="http://61.155.26.218/license?id=12675">
							<img src="img/szicbok.gif" alt=" ">
						</a>
					</div>
				</div>
			</div>
		</div>
</div>
<!-- 侧边栏 -->
<div class="links">
    <div class="close on">
        <img src="img/icon_plus.png" alt="收起">
    </div>
    <ul class="more">
        <li class="phone">
            <div class="info info1">

                <p>欢迎拨打客服电话
                <br>
                4008282888</p>
            </div>
        </li>
        <li class="wechat">
            <div class="info info2">
                <p>关注膳魔师微信</p>
                <p>咨询1对1客服</p>
                <img src="img/service_05_20160914151852.jpg" alt="二维码">
            </div>
        </li>
        <li class="mail">
            <div class="info info3">
                <p>service@thermos.com.cn</p>
                <p>欢迎发送你的建议</p>
            </div>
        </li>
    </ul>
</div>
</body>
</html>
<script src="js/jquery.min.js"></script>
<script src="js/cookieTools.js"></script>
<script src="js/checkbox.js"></script>
<script src="js/index.js"></script>
<script>
    $(function(){
        $(".btnAdd").click(function(){
            let $text = $(this).prev();
            $text.val(parseInt($text.val())+1);
            calMoney(); //每点一次按钮都计算总价
        })
        $(".btnReduce").click(function(){
            let $text = $(this).next();
            if($text.val()==0){
                $text.val()=0;
            }else{
                $text.val(parseInt($text.val())-1);
                calMoney();
            }
        });
        //给全选框绑定全选事件
        $("#allCheckBox").bindCheckBox($(".goodsList :checkbox"),calMoney);
    });
    function calMoney(){
        let money=0;
        //循环每个单选框
        let $subCheckBox = $(".goodsList :checkbox");
        for(let i=0;i<$subCheckBox.length;i++){
            if($subCheckBox[i].checked){ 
                //如果当前选框而被选中,找到当前商品所在li
                let $goodsBox = $($subCheckBox[i].parentNode.parentNode);
                //找到goodList中的price*count,计算每个商品的价格后，累加
                money += parseFloat($goodList.find(".price").html())*parseFloat($goodList.find(".count").val());
            }
        }
        //将加算的价格赋值给计算总价的HTML元素
        $("#totalMoney").html(money);
    }

</script>
